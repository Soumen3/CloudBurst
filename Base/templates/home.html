{% extends 'main.html' %}
{% load static %}

{% block css %}
    {% comment %} leaflet.css {% endcomment %}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock css %}


{% block body %}



<div class="map" id="map" style="width:600px; height=400px">
    <div id="map-legend">
        <h4>Legend</h4>
        <p><span class="legend-marker" style="background-color: red;"></span> In Denger</p>
        
    </div>
</div>    


    
{% endblock body %}
    
    
{% block JavaScript %}
    
{% comment %} leaflet.js  {% endcomment %}
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script>

    //------------------Map insitialization--------------------//

    var map = L.map('map').setView([20.5937, 78.9629], 4.5);


    //----------------------Tile Layer-------------------------//

    var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });
    osm.addTo(map);


    //---------------------Legend--------------------------//
    var legend = L.control({ position: 'bottomright' });

    legend.onAdd = function (map) {
    var div = L.DomUtil.create('div', 'info legend');
    div.innerHTML = document.getElementById('map-legend').innerHTML;
    return div;
};

legend.addTo(map);

</script>

{% endblock JavaScript %}